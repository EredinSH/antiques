<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//PL"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://java.sun.com/jsf/core">

<h:head><title>Użytkownicy</title>
</h:head>
<h:body>

    <h1>Jesteś na stronie użytkowników!</h1>
    <h2>Zarzadzaj listą użytkowników</h2>
    <h:form>
        <p:button id="mainPage" value="Przejdź do strony głównej" outcome="mainPage"/>
    </h:form>

    <p:growl id="growl" globalOnly="true"/>
    <div align="center">
        <h2><h:outputText value="Lista użytkowników"/></h2>
        <h:form id="userForm">
            <p:dataTable id="usersTable" value="#{userDatabase.values}" var="usr" class="usersTable" rows="5" paginator="true">
                <p:column sortBy="#{usr.id}" name="header" id="idColumn">
                    <f:facet name="header">ID</f:facet>
                    <h:link value="#{usr.id}" outcome="editUser">
                        <f:param name="userId" value="#{usr.id}"/>
                    </h:link>
                </p:column>
                <p:column sortBy="#{usr.name}" name="header" id="nameColumn">
                    <f:facet name="header">IMIĘ</f:facet>
                    #{usr.name}
                </p:column>
                <p:column sortBy="#{usr.surname}" name="header" id="surnameColumn">
                    <f:facet name="header">NAZWISKO</f:facet>
                    #{usr.surname}
                </p:column>
                <p:column sortBy="#{usr.age}" name="header" id="ageColumn">
                    <f:facet name="header">WIEK</f:facet>
                    #{usr.age}
                </p:column>
                <p:column sortBy="#{usr.nick}" name="header" id="nickColumn">
                    <f:facet name="header">NICK</f:facet>
                    #{usr.nick}
                </p:column>
                <p:column sortBy="#{usr.mail}" name="header" id="mailColumn">
                    <f:facet name="header">MAIL</f:facet>
                    #{usr.mail}
                </p:column>
                <p:column sortBy="#{usr.account}" name="header" id="accountColumn">
                    <f:facet name="header">STAN KONTA</f:facet>
                    #{usr.account}
                </p:column>
                <p:column name="delete" id="deleteButton">
                    <p:commandButton action="#{userController.remove(usr)}" icon="ui-icon-trash" update="@form growl"/>
                </p:column>
            </p:dataTable>

            <p:commandButton outcome="createUser" value="Dodaj użytkownika" />

        </h:form>

    </div>
</h:body>
</html>